"""Test to check the functionality of the function."""

import pytest

from hw1 import top_salary

TEST_SALARIES_NONE = (
    (
        [
            ('Sales', [62522, 95943, 18109, 88948, 93378]),
        ],
        ([95943, 93378, 88948], 77.53),
    ),

    (
        [
            ('HR', [49416.47, 76537.66, 25614.78, 47902.73, 94947.7, 11403.35, 37022.33]),
            ('Sales', [62522, 95943, 18109, 88948, 93378]),
        ],
        ([95943, 94947.7, 93378], 40.51),
    ),

    (
        [
            ('PR Department', [94573.15, 78903.3, 91034.47, 15986.02, 63041.3, 44337.85]),
            ('Human Resources Department', [37766.83, 65465.74, 20545.0, 73187.46, 62949.99]),
            ('Call Center', [83844.2, 30526.49, 74225.93, 13118.32, 80232.09, 48549.1]),
            ('Business Analist', [51057.59, 89586.69, 73203.17, 75241.16, 19800.95, 52196.2]),
        ],
        ([94573.15, 91034.47, 89586.69], 20.55),
    ),

    (
        [
            ('Information Sequrity', [69866.71, 94117.24, 78293.63, 43446.76, 12081.02]),
            ('Web Designers', [64206.21, 55992.19, 92598.0, 95503.8, 93918.09, 85352.38]),
            ('Network Architector', [14954.93, 61641.47, 32108.5, 17670.75, 39770.86]),
            ('System Analist', [97091.02, 71905.66, 39683.33, 85845.74, 35815.7, 84381.96]),
            ('Control Center', [13769.06, 74131.29, 46456.65, 84693.47, 99501.3, 49732.09]),
            ('Human Resources Department', [49381.69, 95960.95, 34727.97, 19302.26]),
            ('Head Office', [55803.99, 98081.95, 45437.12, 36965.09, 20109.42, 46612.53]),
            ('IT', [52001.32, 69466.14, 63332.81, 19766.88, 67461.6, 29112.73, 91029.75]),
            ('DD', [57001.35, 21029.32, 42315.53, 80998.23, 34195.56, 83035.25, 69948.67]),
            ('Develops', [33431.54, 16902.89, 66902.78, 15980.28, 62269.43, 98798.74]),
            ('PR', [33520.5, 53793.38, 96354.22, 73712.68, 56100.72, 55220.45]),
        ],
        ([99501.3, 98798.74, 98081.95], 8.05),
    ),
)

TEST_SALARIES = (
    (
        [
            ('Dev', [33784.13, 75083.35, 25461.69, 72662.32, 91994.4, 77572.92]),
            ('HR', [14807.62, 33552.66, 50379.45, 54957.53, 22055.93, 45843.32]),
            ('Helpdesk', [96646.03, 99964.24, 44201.73, 56150.81, 38794.02, 68732.22]),
        ],
        70000, ([68732.22, 56150.81, 54957.53], 36.8),
    ),

    (
        [
            ('Developes', [89076.41, 53528.5, 57864.09, 19887.64, 20417.22, 60961.84, 16071.82]),
            ('Network Administrator', [88988.47, 46675.67, 73833.38, 72934.07, 66300.24]),
            ('Website Developer', [28550.91, 70322.7, 55338.88, 98983.59, 48046.06]),
            ('AR', [66563.05, 16346.58, 18014.04, 28534.69]),
        ],
        48000, ([46675.67, 28550.91, 28534.69], 53.35),
    ),

    (
        [
            ('Control Center', [34474.35, 98482.82, 55361.73, 17830.8, 87986.62, 47451.28]),
            ('Call Center', [55630.63, 58089.75, 77613.99, 95680.39, 14110.69, 73436.94]),
            ('PR department', [95689.67, 49564.98, 32970.16, 14011.42, 48859.14, 19102.4]),
            ('AI', [14720.49, 72712.65, 43049.44, 60679.33, 40088.42, 97262.45, 45879.6]),
            ('Develops', [58310.48, 41128.93, 80082.52, 66253.9, 41056.9, 50907.06, 91585.14]),
        ],
        30000, ([19102.4, 17830.8, 14720.49], 64.75),
    ),

    (
        [
            ('AI', [60529.15, 67524.92, 43511.66, 79785.75, 29139.48, 57422.45, 83915.27]),
            ('Website Developer', [66951.0, 41652.43, 56688.66, 63221.35, 70226.32, 21802.6]),
            ('Network Architector', [54021.3, 42871.03, 45985.2, 67445.08, 46744.75, 18786.16]),
            ('DD', [63880.8, 90349.55, 88083.97, 83095.28, 14875.77, 72454.4, 68822.29, 88803.31]),
            ('Web Programmers', [46300.33, 91144.07, 36782.38, 85825.99, 45983.67, 88731.23]),
            ('Web Designers', [54890.84, 53913.96, 11199.37, 70555.55, 49721.69, 63968.67]),
            ('Menegment', [23419.29, 46516.14, 68947.66, 11116.95, 75464.59, 53547.02, 48660.01]),
            ('IT', [72413.36, 70676.85, 60853.1, 25874.67, 53601.06, 53195.73]),
            ('Network Administrator', [20255.48, 77065.29, 84136.19, 33798.66, 43279.81]),
            ('Junior Programmers', [36676.32, 74972.64, 61812.43, 29515.22, 69043.86, 77146.78]),
            ('Middle Programmers', [21316.09, 84986.74, 84136.8, 97022.83, 20670.76, 26113.23]),
            ('Senior Programmers', [92070.88, 36201.9, 34760.46, 64559.18, 27870.67]),
            ('PR', [13160.96, 81295.99, 69039.48, 77934.64, 71727.22, 12225.85, 75376.92]),
            ('Information Security', [28454.8, 50530.25, 70857.9, 49928.04, 99899.12, 66966.64]),
            ('PS', [72417.35, 66031.87, 48086.54, 27784.2, 21036.34, 80764.7, 93419.57, 15523.86]),
            ('QR', [67430.5, 94739.76, 40206.95, 32860.05, 77548.26, 31260.1, 16198.26, 17086.61]),
        ],
        88888, ([88803.31, 88731.23, 88083.97], 5.25),
    ),

    (
        [
            ('AA', [56188.69, 28420.83, 24030.42, 43615.41, 53192.6, 53934.06, 67611.04]),
            ('Dev', [26811.79, 73314.54, 71610.51, 76547.28, 14113.22, 68595.15]),
            ('PR', [88160.81, 14661.89, 86944.07, 18939.69, 11587.77, 13569.12, 60151.79]),
            ('AI', [78649.34, 72648.36, 81288.83, 58437.26, 62719.57, 77741.74]),
            ('Sales', [57446.29, 10872.41, 18924.87, 25961.37, 88257.59, 55063.14, 16872.77]),
            ('Menegment', [22479.53, 91537.53, 68378.26, 44820.39, 23415.4, 87618.88, 32148.91]),
            ('Helpdesk', [12842.52, 36820.74, 24428.4, 42379.44, 80772.39]),
            ('Saler', [16637.25, 98856.7, 29112.39, 32086.88, 53286.05, 99587.24, 93749.66]),
            ('Product Managment', [38577.4, 54912.56, 60389.23, 83884.48, 93779.66, 87437.31]),
            ('Programmer', [17361.32, 72056.19, 75109.29, 96662.12, 71435.12, 27508.32]),
            ('System Analist', [99691.36, 27997.6, 38112.62, 88128.44, 15493.24, 50214.26]),
            ('Network Administrator', [32038.97, 45905.1, 74552.4, 81971.99, 21742.45, 65431.02]),
            ('Junior Programmer', [47756.27, 42932.59, 47473.82, 59682.73, 31694.6, 44886.29]),
            ('Middle Programmer', [96953.26, 70520.76, 96852.75, 65274.02, 50548.3, 70884.38]),
            ('Senior Programmer', [62717.3, 61461.59, 74501.33, 32925.28, 39866.12]),
            ('Business Analist', [76408.18, 42379.73, 62886.48, 23060.85, 79330.84, 35470.43]),
            ('Network Architector', [77098.56, 54003.99, 25489.4, 64755.47, 59958.01, 53983.76]),
            ('Control Center', [42587.27, 93372.72, 34704.35, 59154.91, 61908.0, 92487.96]),
            ('Human Resources Department', [24830.74, 44440.33, 52149.44, 67804.8, 42550.16]),
        ],
        57000, ([56188.69, 55063.14, 54912.56], 8.14),
    ),
)


@pytest.mark.parametrize('salaries, lim, expected', TEST_SALARIES)
def test_salary_first(salaries: list[tuple[str, list]], lim: float, expected: tuple[list, float]):
    """Test detective function with test_salaries.

    Args:
        salaries: list[tuple[str, list]] - department salary list.
        lim: float - salaries less than this value are considered, default is None.
        expected: tuple[list, float] - an actual expected result.

    Asserts:
        True if the function returns expected results.

    """
    assert top_salary(*salaries, lim=lim) == expected


@pytest.mark.parametrize('salaries, expected', TEST_SALARIES_NONE)
def test_salary_second(salaries: list[tuple[str, list]], expected: tuple[list, float]):
    """Test detective function with test_salaries.

    Args:
        salaries: list[tuple[str, list]] - department salary list.
        expected: tuple[list, float] - an actual expected result.

    Asserts:
        True if the function returns expected results.

    """
    assert top_salary(*salaries) == expected
